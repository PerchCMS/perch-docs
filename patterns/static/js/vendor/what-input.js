"use strict";window.whatInput=function(){var u,d=[],t=!1,a=null,s=["button","checkbox","file","image","radio","reset","submit"],e=L(),c=[16,17,18,91,93],p={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch"};p[L()]="mouse";var n,o=[],w={9:"tab",13:"enter",16:"shift",27:"esc",32:"space",37:"left",38:"up",39:"right",40:"down"},f={2:"touch",3:"touch",4:"mouse"};function i(){v(),y(event),t=!0,n=window.setTimeout(function(){t=!1},650)}function r(e){t||y(e)}function m(e){v(),y(e)}function v(){window.clearTimeout(n)}function y(e){var t=l(e),n=p[e.type];if("pointer"===n&&(n=function(e){return"number"==typeof e.pointerType?f[e.pointerType]:"pen"===e.pointerType?"touch":e.pointerType}(e)),a!==n){var o=function(e){return e.target||e.srcElement}(e),i=o.nodeName.toLowerCase(),r="input"===i?o.getAttribute("type"):null;!u.hasAttribute("data-whatinput-formtyping")&&a&&"keyboard"===n&&"tab"!==w[t]&&("textarea"===i||"select"===i||"input"===i&&s.indexOf(r)<0)||-1<c.indexOf(t)||h(n)}"keyboard"===n&&function(e){-1===d.indexOf(w[e])&&w[e]&&d.push(w[e])}(t)}function h(e){a=e,u.setAttribute("data-whatinput",a),-1===o.indexOf(a)&&o.push(a)}function l(e){return e.keyCode?e.keyCode:e.which}function E(e){var t=l(e),n=d.indexOf(w[t]);-1!==n&&d.splice(n,1)}function b(){u=document.body,window.PointerEvent?(u.addEventListener("pointerdown",r),u.addEventListener("pointermove",r)):window.MSPointerEvent?(u.addEventListener("MSPointerDown",r),u.addEventListener("MSPointerMove",r)):(u.addEventListener("mousedown",r),u.addEventListener("mousemove",r),"ontouchstart"in window&&u.addEventListener("touchstart",i)),u.addEventListener(e,r),u.addEventListener("keydown",m),u.addEventListener("keyup",m),document.addEventListener("keyup",E)}function L(){return e="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"}return"addEventListener"in window&&Array.prototype.indexOf&&(document.body?b():document.addEventListener("DOMContentLoaded",b)),{ask:function(){return a},keys:function(){return d},types:function(){return o},set:h}}();